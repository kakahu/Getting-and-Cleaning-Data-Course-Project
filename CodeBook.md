Getting-and-Cleaning-Data-Course-Project
========================================================

## merge the train and test data

```r
testSubject <- read.table("UCI HAR Dataset/test/subject_test.txt")
testX <- read.table("UCI HAR Dataset/test/X_test.txt")
testY <- read.table("UCI HAR Dataset/test/Y_test.txt")

trainSubject <- read.table("UCI HAR Dataset/train/subject_train.txt")
trainX <- read.table("UCI HAR Dataset/train/X_train.txt")
trainY <- read.table("UCI HAR Dataset/train/Y_train.txt")

testData <- cbind(testSubject, testY, testX)
trainData <- cbind(trainSubject, trainY, trainX)

data <- rbind(trainData, testData)
```
The data frame containing both train and test data is in "data".

## Appropriately labels the data set with descriptive variable names

```r
features <- read.table("UCI HAR Dataset/features.txt")
measureNames <- as.character(features$V2)
colnames(data) <- c("subject", "activity", measureNames)
```

## extract the mean and standard deviation

```r
measureMean <- c()
measureSD <- c()

for (i in 3:ncol(data)){
    measureMean[i-2] <- mean(data[,i])
    measureSD[i-2] <- sd(data[,i])
}
```

The mean and standard deviation of the data are shown below.

```r
print(measureMean)
```

```
##   [1]  0.274347 -0.017743 -0.108925 -0.607784 -0.510191 -0.613064 -0.633593
##   [8] -0.525697 -0.614989 -0.466732 -0.305180 -0.562230  0.525304  0.389537
##  [15]  0.598022 -0.552087 -0.825460 -0.902704 -0.854662 -0.689162 -0.643512
##  [22] -0.640686 -0.100332 -0.128765 -0.157863 -0.118954  0.108574 -0.035699
##  [29]  0.122000 -0.029677  0.031724  0.155148 -0.018077  0.006110  0.037729
##  [36]  0.034424 -0.082669 -0.120309 -0.197746  0.102199  0.669226  0.004039
##  [43]  0.092151 -0.965207 -0.954408 -0.938901 -0.966018 -0.955361 -0.940206
##  [50]  0.609058 -0.010322  0.096739  0.683762  0.016608  0.079349 -0.098587
##  [57]  0.446207 -0.721470 -0.763609 -0.968240 -0.958593 -0.944776 -0.674769
##  [64] -0.866704 -0.669100 -0.504402  0.542887 -0.580674  0.617818 -0.343618
##  [71]  0.330184 -0.360745  0.408875 -0.428083  0.453367 -0.478050  0.499490
##  [78]  0.175683 -0.108288  0.084849  0.078938  0.007948 -0.004675 -0.639781
##  [85] -0.607972 -0.762820 -0.636852 -0.594046 -0.756512 -0.699626 -0.747834
##  [92] -0.818722  0.616034  0.684870  0.739588 -0.646991 -0.850338 -0.827254
##  [99] -0.930710 -0.627490 -0.659833 -0.770834 -0.082607 -0.087883 -0.127331
## [106] -0.108573  0.169659  0.067604  0.126468 -0.072718  0.068694  0.174528
## [113]  0.314316 -0.032692  0.088684 -0.001039  0.138471 -0.138123  0.003025
## [120]  0.080317 -0.030982 -0.074719  0.088357 -0.721193 -0.682654 -0.653666
## [127] -0.726485 -0.694534 -0.667210 -0.645485 -0.737977 -0.484189  0.632264
## [134]  0.734258  0.559248 -0.602749 -0.901637 -0.884235 -0.872984 -0.729225
## [141] -0.717203 -0.720239 -0.144917 -0.099249 -0.063254 -0.222862  0.147739
## [148]  0.128497 -0.080306 -0.204786  0.169678 -0.042461  0.141698 -0.085099
## [155]  0.066730 -0.007924  0.146419 -0.169336  0.014346 -0.105693 -0.096709
## [162] -0.042318 -0.054830 -0.731349 -0.786062 -0.739932 -0.730003 -0.796579
## [169] -0.746637 -0.747265 -0.809908 -0.742689  0.760592  0.830275  0.799425
## [176] -0.766814 -0.916934 -0.939545 -0.919502 -0.737540 -0.808764 -0.766350
## [183] -0.015191  0.018669 -0.015112 -0.072476  0.040919  0.159667  0.164731
## [190] -0.162364  0.200175  0.083528  0.080249 -0.028654  0.052383  0.088803
## [197]  0.033531  0.036939  0.049272 -0.113625 -0.548222 -0.591225 -0.642655
## [204] -0.558633 -0.837828 -0.548222 -0.777466 -0.702590  0.132813 -0.069539
## [211]  0.024042  0.058583 -0.057890 -0.548222 -0.591225 -0.642655 -0.558633
## [218] -0.837828 -0.548222 -0.777466 -0.702590  0.132813 -0.069539  0.024042
## [225]  0.058583 -0.057890 -0.649418 -0.627763 -0.646944 -0.638702 -0.787591
## [232] -0.649418 -0.851143 -0.699217 -0.061632  0.078759 -0.029036 -0.091172
## [239] -0.041673 -0.605249 -0.662533 -0.630193 -0.695172 -0.730012 -0.605249
## [246] -0.834837 -0.653655  0.235402 -0.024457 -0.069236  0.107611 -0.054449
## [253] -0.762138 -0.777993 -0.792589 -0.784625 -0.802863 -0.762138 -0.931909
## [260] -0.806533  0.130669  0.286483 -0.226943 -0.057485 -0.106690 -0.622762
## [267] -0.537493 -0.665034 -0.603356 -0.528420 -0.617875 -0.590772 -0.522201
## [274] -0.632333 -0.651544 -0.658081 -0.635676 -0.855993 -0.880226 -0.913777
## [281] -0.555229 -0.825931 -0.752469 -0.839858 -0.652569 -0.649906 -0.746768
## [288] -0.200289 -0.183855 -0.204846 -0.759939 -0.797314 -0.843846 -0.221469
## [295]  0.015401  0.047310 -0.135853 -0.465004 -0.268047 -0.582227 -0.241171
## [302] -0.479540 -0.818036 -0.887511 -0.858271 -0.894102 -0.914979 -0.912811
## [309] -0.946035 -0.955803 -0.821595 -0.846779 -0.914181 -0.949309 -0.824203
## [316] -0.883133 -0.787763 -0.847369 -0.860290 -0.902754 -0.897369 -0.882705
## [323] -0.902470 -0.951463 -0.758869 -0.836898 -0.880006 -0.919978 -0.754993
## [330] -0.890747 -0.857234 -0.899391 -0.925811 -0.961894 -0.963851 -0.937674
## [337] -0.941637 -0.957864 -0.853461 -0.938915 -0.954522 -0.946015 -0.843297
## [344] -0.959808 -0.656714 -0.628961 -0.743608 -0.654980 -0.612244 -0.780928
## [351] -0.594991 -0.624021 -0.764487 -0.711609 -0.682105 -0.801159 -0.882722
## [358] -0.860234 -0.884442 -0.620250 -0.850154 -0.827339 -0.930738 -0.634121
## [365] -0.719894 -0.771495 -0.266934 -0.265555 -0.365423 -0.414056 -0.396893
## [372] -0.324540 -0.047706 -0.213393 -0.123828 -0.315460 -0.713192 -0.399771
## [379] -0.823099 -0.487742 -0.815881 -0.867790 -0.886611 -0.873657 -0.897513
## [386] -0.921781 -0.902981 -0.945087 -0.984549 -0.868241 -0.854674 -0.907547
## [393] -0.943051 -0.846111 -0.862219 -0.834576 -0.868762 -0.836443 -0.908162
## [400] -0.915845 -0.877045 -0.923283 -0.971320 -0.842037 -0.837360 -0.879074
## [407] -0.929347 -0.813083 -0.895722 -0.900659 -0.899307 -0.931417 -0.963375
## [414] -0.967359 -0.942388 -0.932344 -0.971368 -0.878603 -0.947071 -0.957633
## [421] -0.932525 -0.899217 -0.961145 -0.672094 -0.706217 -0.644193 -0.738595
## [428] -0.674227 -0.690446 -0.687957 -0.712145 -0.640920 -0.735455 -0.733672
## [435] -0.764204 -0.931548 -0.900716 -0.908751 -0.660284 -0.915447 -0.885434
## [442] -0.869633 -0.707327 -0.753796 -0.696861 -0.093179 -0.046737 -0.149126
## [449] -0.878856 -0.801152 -0.807862 -0.101043 -0.174278 -0.051393 -0.176755
## [456] -0.494010 -0.178471 -0.533052 -0.213648 -0.533094 -0.929211 -0.907559
## [463] -0.920128 -0.958904 -0.949987 -0.952219 -0.964051 -0.975361 -0.919866
## [470] -0.918990 -0.945868 -0.969056 -0.916881 -0.954693 -0.878465 -0.957397
## [477] -0.959815 -0.967476 -0.977649 -0.958082 -0.952407 -0.976085 -0.890460
## [484] -0.952560 -0.973403 -0.956190 -0.878994 -0.966813 -0.899208 -0.932863
## [491] -0.931870 -0.965563 -0.971110 -0.960489 -0.951314 -0.969397 -0.881620
## [498] -0.918365 -0.968151 -0.959176 -0.873024 -0.966368 -0.585963 -0.659531
## [505] -0.596120 -0.756506 -0.890588 -0.585963 -0.821867 -0.694916 -0.190128
## [512] -0.752577  0.076876 -0.352429 -0.632129 -0.620790 -0.640077 -0.614293
## [519] -0.682696 -0.803308 -0.620790 -0.840996 -0.676629 -0.338469 -0.877800
## [526]  0.173220 -0.298598 -0.601659 -0.697411 -0.699976 -0.681014 -0.734623
## [533] -0.888701 -0.697411 -0.881301 -0.722125 -0.076279 -0.886999 -0.041564
## [540] -0.264279 -0.575866 -0.779768 -0.792190 -0.773404 -0.809934 -0.871201
## [547] -0.779768 -0.937898 -0.772715 -0.274339 -0.900033  0.126708 -0.298592
## [554] -0.617700  0.007705  0.002648  0.017683 -0.009219 -0.496522  0.063255
## [561] -0.054284
```

```r
print(measureSD)
```

```
##   [1] 0.06763 0.03713 0.05303 0.43869 0.50024 0.40366 0.41333 0.48420
##   [9] 0.39903 0.53871 0.27992 0.28299 0.35659 0.33884 0.29061 0.46137
##  [17] 0.24705 0.12599 0.20600 0.35921 0.36886 0.37207 0.46232 0.43369
##  [25] 0.36810 0.30772 0.24714 0.24782 0.23204 0.25446 0.21371 0.20872
##  [33] 0.22026 0.28172 0.21546 0.23685 0.23096 0.35768 0.32510 0.37605
##  [41] 0.51549 0.37891 0.33427 0.07771 0.08529 0.10155 0.07620 0.08423
##  [49] 0.10052 0.50900 0.36668 0.32961 0.50705 0.37640 0.33673 0.39194
##  [57] 0.69645 0.45441 0.42408 0.07179 0.08069 0.09605 0.36105 0.28143
##  [65] 0.39315 0.21647 0.20979 0.20790 0.21073 0.29329 0.29903 0.29119
##  [73] 0.28257 0.26826 0.25941 0.25338 0.24991 0.69633 0.70394 0.70116
##  [81] 0.17611 0.16452 0.15598 0.40871 0.43288 0.27790 0.41360 0.44613
##  [89] 0.28363 0.35987 0.29367 0.22399 0.43552 0.35904 0.30646 0.39271
##  [97] 0.21478 0.24304 0.11793 0.42963 0.37506 0.26629 0.65267 0.63212
## [105] 0.60746 0.30358 0.19242 0.24145 0.19596 0.26818 0.21786 0.23779
## [113] 0.20254 0.27177 0.19658 0.22418 0.23959 0.25767 0.29308 0.27720
## [121] 0.18319 0.13432 0.13488 0.30103 0.35688 0.37261 0.29765 0.34441
## [129] 0.36179 0.27643 0.26615 0.30313 0.25119 0.21161 0.30794 0.40211
## [137] 0.14269 0.19027 0.19020 0.30220 0.32528 0.31631 0.45451 0.37051
## [145] 0.45605 0.27650 0.22700 0.22933 0.24080 0.20865 0.19166 0.22843
## [153] 0.21729 0.31281 0.28227 0.26767 0.25831 0.38220 0.38648 0.41761
## [161] 0.12813 0.11441 0.12890 0.30382 0.27272 0.30199 0.30656 0.25773
## [169] 0.29293 0.29095 0.25327 0.30586 0.27951 0.22797 0.24789 0.26926
## [177] 0.13301 0.13214 0.13414 0.30190 0.24225 0.27144 0.56485 0.54432
## [185] 0.58074 0.25022 0.18571 0.21154 0.21112 0.21435 0.16705 0.19711
## [193] 0.24504 0.34323 0.23235 0.24640 0.24774 0.27662 0.26693 0.25952
## [201] 0.46709 0.42943 0.37467 0.46124 0.19026 0.46709 0.28032 0.31423
## [209] 0.66937 0.29044 0.23472 0.25323 0.26312 0.46709 0.42943 0.37467
## [217] 0.46124 0.19026 0.46709 0.28032 0.31423 0.66937 0.29044 0.23472
## [225] 0.25323 0.26312 0.38949 0.41722 0.39754 0.40350 0.25570 0.38949
## [233] 0.20579 0.34308 0.72392 0.24361 0.24458 0.24089 0.25990 0.39971
## [241] 0.34922 0.38110 0.31899 0.31265 0.39971 0.22088 0.35999 0.48182
## [249] 0.29727 0.26686 0.25153 0.25083 0.27651 0.27159 0.25070 0.26790
## [257] 0.24780 0.27651 0.12102 0.23135 0.69244 0.23963 0.20917 0.22861
## [265] 0.25072 0.42079 0.48168 0.35885 0.44679 0.47992 0.39897 0.45734
## [273] 0.49656 0.38952 0.40542 0.35370 0.38976 0.22708 0.17975 0.12949
## [281] 0.47173 0.24698 0.31358 0.22648 0.39905 0.39104 0.29038 0.72296
## [289] 0.66618 0.61105 0.26543 0.24263 0.23972 0.26459 0.24085 0.28378
## [297] 0.40058 0.44096 0.35614 0.38536 0.40142 0.41151 0.26805 0.17557
## [305] 0.22596 0.18237 0.14175 0.14945 0.10235 0.11741 0.25692 0.23903
## [313] 0.13967 0.10375 0.24992 0.18955 0.27418 0.23881 0.21907 0.16434
## [321] 0.17267 0.18824 0.16990 0.13103 0.30833 0.25032 0.19063 0.15174
## [329] 0.31097 0.17362 0.21575 0.17464 0.14405 0.08034 0.07690 0.11772
## [337] 0.11064 0.11522 0.21224 0.11596 0.08961 0.10668 0.22261 0.08048
## [345] 0.38999 0.40730 0.29771 0.39329 0.43352 0.25954 0.45988 0.41799
## [353] 0.27660 0.33839 0.36427 0.24324 0.18699 0.21351 0.17854 0.42112
## [361] 0.21506 0.24295 0.11791 0.42206 0.31225 0.26696 0.74948 0.73431
## [369] 0.63871 0.32156 0.26539 0.29348 0.29554 0.27219 0.27335 0.25642
## [377] 0.20928 0.18797 0.14086 0.19898 0.15004 0.21016 0.17344 0.20386
## [385] 0.17970 0.13205 0.16387 0.10098 0.05359 0.19351 0.22974 0.14986
## [393] 0.10461 0.21971 0.22351 0.23563 0.20666 0.25677 0.15680 0.14397
## [401] 0.19895 0.12920 0.09067 0.23215 0.25030 0.19308 0.11894 0.26538
## [409] 0.16543 0.16546 0.17711 0.13240 0.07873 0.07304 0.11244 0.13118
## [417] 0.09722 0.19839 0.10131 0.08652 0.13053 0.16787 0.07934 0.35150
## [425] 0.33567 0.38202 0.28577 0.36966 0.33731 0.33402 0.32629 0.38564
## [433] 0.30443 0.32577 0.27391 0.11268 0.15758 0.13911 0.36176 0.12955
## [441] 0.19128 0.19873 0.33588 0.30488 0.35199 0.60963 0.60990 0.60272
## [449] 0.19308 0.28913 0.23373 0.25589 0.27333 0.26619 0.32241 0.33903
## [457] 0.34734 0.37717 0.33071 0.34579 0.11705 0.15659 0.13793 0.08328
## [465] 0.10515 0.09179 0.08063 0.07160 0.12510 0.13835 0.10649 0.07501
## [473] 0.12787 0.08800 0.21827 0.10073 0.11233 0.08480 0.05839 0.09498
## [481] 0.11143 0.07620 0.18551 0.12422 0.06471 0.10509 0.20250 0.08289
## [489] 0.16990 0.13258 0.13587 0.07593 0.06601 0.07984 0.10452 0.09189
## [497] 0.18721 0.15776 0.06801 0.09595 0.19517 0.07140 0.44533 0.35543
## [505] 0.42916 0.25791 0.16081 0.44533 0.24676 0.34447 0.67820 0.26274
## [513] 0.26296 0.32207 0.31953 0.42506 0.40602 0.43119 0.36969 0.26989
## [521] 0.42506 0.22800 0.36555 0.66686 0.18965 0.25254 0.36472 0.35393
## [529] 0.32370 0.31044 0.33122 0.28111 0.16359 0.32370 0.18043 0.31056
## [537] 0.60293 0.15998 0.28014 0.32258 0.32001 0.26759 0.25916 0.27973
## [545] 0.24270 0.18963 0.26759 0.12828 0.27840 0.62427 0.13969 0.24544
## [553] 0.32020 0.30880 0.33659 0.44736 0.61619 0.48477 0.51116 0.30547
## [561] 0.26890
```

## Uses descriptive activity names to name the activities in the data set

```r
data$activity[data$activity == 1] <- "WALKING"
data$activity[data$activity == 2] <- "WALKING_UPSTAIRS"
data$activity[data$activity == 3] <- "WALKING_DOWNSTAIRS"
data$activity[data$activity == 4] <- "SITTING"
data$activity[data$activity == 5] <- "STANDING"
data$activity[data$activity == 6] <- "LAYING"
```

## Creates a second, independent tidy data set with the average 
## of each variable for each activity and each subject. 

```r
labelData <- read.table("UCI HAR Dataset/activity_labels.txt")
label <- labelData$V2

newData <- data.frame(matrix(NA, ncol = 563))
colnames(newData) = c("subject", "activity", measureNames)
entry <- newData
tmpData0 <- NULL
tmpData <- NULL

for (i in 1:30){
    for (j in 1:length(label)){
        tmpData0 <- data[data$subject == i, ]
        tmpData <- tmpData0[tmpData0$activity == label[j], ]
        entry$subject[1] <- i
        entry$activity[1] <- as.character(label[j])
        for (k in 3:563){
            average <- mean(tmpData[,k])
            entry[,k] <- average
        }
        newData <- rbind(newData, entry)
    }
}
newData <- na.omit(newData)

write.csv(newData, file = "newTidyData.csv")
```
The new tidy data frame is stored in "newData"




